clock clock;
chan c;

process prima ()
{
clock prima_clock;
state 
	start,
	prima1 { clock <= 80 },
	prima2 { clock <= 100 },
	finish;
init start;
trans
	start -> prima1 { guard clock==0; },
	prima1 -> prima2  { guard plan_clock >= 50 ;
	       	  	  sync c!;
			assign clock := 50; }
	prima2 -> finish { clock >= 100;   }
	;
}

process seconda ()
{
clock seconda_clock;
state 
	start,
	seconda1 { clock <= 80 },
	seconda2 { clock <= 100 },
	finish;
init start;
trans
	start -> seconda1 { guard clock==0; },
	seconda1 -> seconda2  { guard clock >= 50 ;
                                sync c? ;
		    assign clock := 60; },
	seconda2 -> finish { guard clock >= 100;   }
	;
}

system seconda, prima;
